# VTT (VoiceToText) - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
# –õ–æ–∫–∞–ª—å–Ω–∞—è –¥–∏–∫—Ç–æ–≤–∫–∞ –¥–ª—è macOS

app:
  version: "2.0"
  name: "VTT (VoiceToText)"

ui:
  auto_paste_enabled: true
  auto_paste_delay: 0.1
  auto_paste_force_mode: true  # üÜï –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –≤ –ª—é–±—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

audio:
  sample_rate: 16000
  max_recording_duration: 1800  # –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 30 –º–∏–Ω—É—Ç
  vad_threshold: 0.5
  streaming:
    enabled: true
    chunk_duration: 5.0
    chunk_overlap: 0.5
    min_speech_duration: 0.25
    min_silence_duration: 0.1

whisper:
  model_name: "mlx-community/whisper-large-v3"
  language: "ru"
  task: "transcribe"
  device: "cpu"
  decoder_stability:
    temperature: 0.0
    # beam_size: 5  # MLX Whisper –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç beam search, –∏—Å–ø–æ–ª—å–∑—É–µ–º temperature-based sampling
    no_speech_threshold: 0.6
    condition_on_previous_text: true

punctuation:
  enabled: true
  mode: "bert"  # –ò—Å–ø–æ–ª—å–∑—É–µ–º BERT-–º–æ–¥–µ–ª—å
  cache_dir: "./cache/punctuation"
  model:
    provider: "deeppavlov"  # bert, deeppavlov, none
    name: "DeepPavlov/bert-base-cased-sentence"
    use_gpu: false
  rules:
    aggressive_commas: false  # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –∑–∞–ø—è—Ç—ã—Ö
    fix_abbreviations: true   # –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã

vocabulary:
  enabled: true
  custom_terms_file: "./vocabulary/custom_terms.json"
  abbreviations_file: "./vocabulary/abbreviations.json"
  names_file: "./vocabulary/names.json"
  expand_abbreviations: true
  capitalize_names: true
  handle_compound_words: true

debloat:
  enabled: true
  aggressive_mode: false
  remove_fillers: true
  remove_echo_repeats: true
  quiet_mode: true  # –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

numbers:
  enabled: true
  format_numbers: true
  format_percentages: true
  format_ranges: true
  format_units: true
  format_dates: true
  format_time: true
  format_file_sizes: true
  quiet_mode: true  # –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

performance:
  force_garbage_collection: false  # –û—Ç–∫–ª—é—á–∞–µ–º –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ - –≤–∫–ª—é—á–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
  clear_model_cache_after_use: false  # –û—Ç–∫–ª—é—á–∞–µ–º –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ - –≤–∫–ª—é—á–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
  memory_limit_mb: 1024  # –£–º–µ–Ω—å—à–∞–µ–º –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π
  log_memory_usage: false  # –û—Ç–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
  chunk_processing:
    enabled: true  # –í–∫–ª—é—á–µ–Ω–∞ —á–∞–Ω–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    chunk_threshold_sec: 120  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ø–æ—Ä–æ–≥ –¥–æ 2 –º–∏–Ω—É—Ç –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
    max_chunk_duration_sec: 45  # –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞
    chunk_overlap_sec: 2  # –ù–µ–±–æ–ª—å—à–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏

debug:
  enable_detailed_logs: true
  log_level: "INFO"