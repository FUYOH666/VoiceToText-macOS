# VTT (VoiceToText) - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
# –õ–æ–∫–∞–ª—å–Ω–∞—è –¥–∏–∫—Ç–æ–≤–∫–∞ –¥–ª—è macOS

app:
  version: "2.0"
  name: "VTT (VoiceToText)"

ui:
  auto_paste_enabled: true
  auto_paste_delay: 0.1
  auto_paste_force_mode: true  # üÜï –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –≤ –ª—é–±—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

audio:
  sample_rate: 16000
  max_recording_duration: 3600  # üî• –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 1 —á–∞—Å–∞ –¥–ª—è M4 Max
  vad_threshold: 0.3  # üî• –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ—á–∏
  streaming:
    enabled: true
    chunk_duration: 10.0  # üî• –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    chunk_overlap: 1.0  # üî• –£–≤–µ–ª–∏—á–µ–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
    min_speech_duration: 0.15  # üî• –ë–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ—á–∏
    min_silence_duration: 0.2  # üî• –£–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–µ—á–∏

whisper:
  model_name: "mlx-community/whisper-large-v3"
  language: "ru"
  task: "transcribe"
  device: "cpu"
  decoder_stability:
    temperature: 0.0
    # beam_size: 5  # MLX Whisper –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç beam search, –∏—Å–ø–æ–ª—å–∑—É–µ–º temperature-based sampling
    no_speech_threshold: 0.6
    condition_on_previous_text: true

punctuation:
  enabled: true
  mode: "improved"  # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–ª—É—á—à–µ–Ω–Ω—ã–π rule-based —Ä–µ–∂–∏–º (–±–µ–∑ BERT)
  cache_dir: "./cache/punctuation"

  # –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è BERT-–º–æ–¥–µ–ª–∏ (—Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω Hugging Face):
  # mode: "bert"
  # model:
  #   provider: "deeppavlov"
  #   name: "DeepPavlov/bert-base-cased-sentence"
  #   use_gpu: false

  model:
    provider: "none"  # –û—Ç–∫–ª—é—á–∞–µ–º BERT-–º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω–∞)
    name: "DeepPavlov/bert-base-cased-sentence"
    use_gpu: false
  rules:
    aggressive_commas: false  # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –∑–∞–ø—è—Ç—ã—Ö
    fix_abbreviations: true   # –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã

vocabulary:
  enabled: true
  custom_terms_file: "./vocabulary/custom_terms.json"
  abbreviations_file: "./vocabulary/abbreviations.json"
  names_file: "./vocabulary/names.json"
  expand_abbreviations: true
  capitalize_names: true
  handle_compound_words: true

debloat:
  enabled: true
  aggressive_mode: false
  remove_fillers: true
  remove_echo_repeats: true
  quiet_mode: true  # –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

numbers:
  enabled: true
  format_numbers: true
  format_percentages: true
  format_ranges: true
  format_units: true
  format_dates: true
  format_time: true
  format_file_sizes: true
  quiet_mode: true  # –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

performance:
  force_garbage_collection: false  # üî• –û—Ç–∫–ª—é—á–∞–µ–º GC –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞ M4 Max
  clear_model_cache_after_use: false  # üî• –û—Å—Ç–∞–≤–ª—è–µ–º –∫—ç—à –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
  memory_limit_mb: 16384  # üî• –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 16GB –¥–ª—è M4 Max
  log_memory_usage: false  # üî• –û—Ç–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
  chunk_processing:
    enabled: true  # –í–∫–ª—é—á–µ–Ω–∞ —á–∞–Ω–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    chunk_threshold_sec: 900  # üî• –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 15 –º–∏–Ω—É—Ç –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
    max_chunk_duration_sec: 120  # üî• –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 2 –º–∏–Ω—É—Ç –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    chunk_overlap_sec: 5  # üî• –£–≤–µ–ª–∏—á–µ–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

debug:
  enable_detailed_logs: true
  log_level: "INFO"